{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lkn4/OneDrive%20-%20University%20of%20Illinois%20-%20Urbana/Desktop/campus-dashboard/frontend/pages/professors/index.tsx"],"sourcesContent":["import { useState, useMemo } from \"react\";\r\nimport Link from \"next/link\";\r\nimport classesData from \"../../data/raw/classes.json\";\r\n\r\ntype Professor = {\r\n  prof: string;\r\n  avggrade: number;\r\n};\r\n\r\ntype Class = {\r\n  subject: string;\r\n  code: string;\r\n  name: string;\r\n  professors: Professor[];\r\n};\r\n\r\nexport default function Professors() {\r\n  const [selectedSubject, setSelectedSubject] = useState(\"\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n  const subjects = useMemo(() => {\r\n    const uniqueSubjects = new Set(classesData.map((c: Class) => c.subject));\r\n    return Array.from(uniqueSubjects).sort();\r\n  }, []);\r\n\r\n  const filteredClasses = useMemo(() => {\r\n    if (!selectedSubject) return [];\r\n    return classesData.filter((c: Class) => c.subject === selectedSubject);\r\n  }, [selectedSubject]);\r\n\r\n  const departmentAverage = useMemo(() => {\r\n    if (!selectedSubject) return null;\r\n\r\n    const allGrades = filteredClasses.flatMap((c) =>\r\n      c.professors.map((p) => p.avggrade)\r\n    );\r\n\r\n    if (allGrades.length === 0) return null;\r\n\r\n    const sum = allGrades.reduce((a, b) => a + b, 0);\r\n    return sum / allGrades.length;\r\n  }, [filteredClasses, selectedSubject]);\r\n\r\n  const allProfessors = useMemo(() => {\r\n    if (!selectedSubject) return [];\r\n\r\n    const profMap = new Map<string, Professor>();\r\n\r\n    filteredClasses.forEach((c) => {\r\n      c.professors.forEach((p) => {\r\n        if (!profMap.has(p.prof)) {\r\n          profMap.set(p.prof, p);\r\n        }\r\n      });\r\n    });\r\n\r\n    return Array.from(profMap.values());\r\n  }, [filteredClasses, selectedSubject]);\r\n\r\n  const filteredProfessors = useMemo(() => {\r\n    if (!searchTerm) return allProfessors;\r\n\r\n    return allProfessors.filter((prof) =>\r\n      prof.prof.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n  }, [allProfessors, searchTerm]);\r\n\r\n  return (\r\n    <main\r\n      className=\"p-6 max-w-4xl mx-auto rounded-lg\"\r\n      style={{\r\n        fontFamily: \"'Poppins', sans-serif\",\r\n        background:\r\n          \"linear-gradient(135deg, #4c1d95, #7c3aed, #a78bfa, #c4b5fd)\",\r\n        boxShadow:\r\n          \"0 12px 20px -4px rgba(124, 58, 237, 0.6), 0 6px 12px -6px rgba(124, 58, 237, 0.5)\",\r\n        color: \"#f0f0f5\",\r\n      }}\r\n    >\r\n      <h1 className=\"text-3xl font-extrabold mb-6 text-center text-purple-100 drop-shadow-md\">\r\n        Professors\r\n      </h1>\r\n\r\n      {/* Subject Dropdown */}\r\n      <label\r\n        htmlFor=\"subject-select\"\r\n        className=\"block mb-2 font-semibold text-purple-200\"\r\n      >\r\n        Select Subject:\r\n      </label>\r\n      <select\r\n        id=\"subject-select\"\r\n        className=\"mb-4 p-2 border rounded w-full max-w-xs focus:outline-none focus:ring-2 focus:ring-purple-400 text-gray-900\"\r\n        value={selectedSubject}\r\n        onChange={(e) => {\r\n          setSelectedSubject(e.target.value);\r\n          setSearchTerm(\"\"); // reset search on subject change\r\n        }}\r\n      >\r\n        <option value=\"\">-- Choose a subject --</option>\r\n        {subjects.map((subject) => (\r\n          <option key={subject} value={subject}>\r\n            {subject}\r\n          </option>\r\n        ))}\r\n      </select>\r\n\r\n      {/* Search bar */}\r\n      {selectedSubject && (\r\n        <>\r\n          <label\r\n            htmlFor=\"prof-search\"\r\n            className=\"block mb-2 font-semibold text-purple-200\"\r\n          >\r\n            Search Professors:\r\n          </label>\r\n          <input\r\n            id=\"prof-search\"\r\n            type=\"text\"\r\n            className=\"mb-6 p-2 border rounded w-full max-w-xs focus:outline-none focus:ring-2 focus:ring-purple-400 text-gray-900\"\r\n            placeholder=\"Type a professor's name\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      {/* Department average */}\r\n      {selectedSubject && (\r\n        <p className=\"mb-6 text-lg text-purple-100\">\r\n          Department average GPA for <strong>{selectedSubject}</strong>:{\" \"}\r\n          {departmentAverage ? departmentAverage.toFixed(2) : \"N/A\"}\r\n        </p>\r\n      )}\r\n\r\n      {/* Professors list */}\r\n      {selectedSubject && (\r\n        <ul className=\"space-y-3\">\r\n          {filteredProfessors.length === 0 && (\r\n            <p className=\"text-purple-200\">No professors found matching your search.</p>\r\n          )}\r\n          {filteredProfessors.map((prof) => (\r\n            <li\r\n              key={prof.prof}\r\n              className=\"border border-purple-300 p-4 rounded hover:shadow-lg transition-shadow bg-purple-700/30\"\r\n            >\r\n              <Link\r\n                href={`/professors/${encodeURIComponent(prof.prof)}`}\r\n                className=\"text-purple-300 hover:underline font-semibold\"\r\n              >\r\n                {prof.prof}\r\n              </Link>{\" \"}\r\n              - Avg Grade: {prof.avggrade.toFixed(2)}{\" \"}\r\n              {departmentAverage &&\r\n                `(${(prof.avggrade - departmentAverage).toFixed(2)} from dept avg)`}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}