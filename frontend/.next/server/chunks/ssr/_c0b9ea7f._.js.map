{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lkn4/OneDrive%20-%20University%20of%20Illinois%20-%20Urbana/Desktop/campus-dashboard/frontend/pages/professors/index.tsx"],"sourcesContent":["import { useState, useMemo } from \"react\";\r\nimport Link from \"next/link\";\r\nimport classesData from \"../../data/raw/classes.json\";\r\n\r\ntype Professor = {\r\n  prof: string;\r\n  avggrade: number;\r\n};\r\n\r\ntype Class = {\r\n  subject: string;\r\n  code: string;\r\n  name: string;\r\n  professors: Professor[];\r\n};\r\n\r\nexport default function Professors() {\r\n  const [selectedSubject, setSelectedSubject] = useState(\"\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n  const subjects = useMemo(() => {\r\n    const uniqueSubjects = new Set(classesData.map((c: Class) => c.subject));\r\n    return Array.from(uniqueSubjects).sort();\r\n  }, []);\r\n\r\n  const filteredClasses = useMemo(() => {\r\n    if (!selectedSubject) return [];\r\n    return classesData.filter((c: Class) => c.subject === selectedSubject);\r\n  }, [selectedSubject]);\r\n\r\n  const departmentAverage = useMemo(() => {\r\n    if (!selectedSubject) return null;\r\n\r\n    const allGrades = filteredClasses.flatMap((c) =>\r\n      c.professors.map((p) => p.avggrade)\r\n    );\r\n\r\n    if (allGrades.length === 0) return null;\r\n\r\n    const sum = allGrades.reduce((a, b) => a + b, 0);\r\n    return sum / allGrades.length;\r\n  }, [filteredClasses, selectedSubject]);\r\n\r\n  const allProfessors = useMemo(() => {\r\n    if (!selectedSubject) return [];\r\n\r\n    const profMap = new Map<string, Professor>();\r\n\r\n    filteredClasses.forEach((c) => {\r\n      c.professors.forEach((p) => {\r\n        if (!profMap.has(p.prof)) {\r\n          profMap.set(p.prof, p);\r\n        }\r\n      });\r\n    });\r\n\r\n    return Array.from(profMap.values());\r\n  }, [filteredClasses, selectedSubject]);\r\n\r\n  const filteredProfessors = useMemo(() => {\r\n    if (!searchTerm) return allProfessors;\r\n\r\n    return allProfessors.filter((prof) =>\r\n      prof.prof.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n  }, [allProfessors, searchTerm]);\r\n\r\n  return (\r\n    <main\r\n      className=\"p-6 max-w-4xl mx-auto rounded-lg\"\r\n      style={{\r\n        padding: \"24px\",\r\n        marginTop: \"80px\",\r\n        maxWidth: \"800px\",\r\n        marginLeft: \"auto\",\r\n        marginRight: \"auto\",\r\n        fontFamily: \"'Poppins', sans-serif\",\r\n        color: \"#ffffffff\",\r\n        background: \"#1b196bff\",\r\n        borderRadius: \"20px\",\r\n      }}\r\n    >\r\n      <h1 style={{ fontSize: \"28px\", fontWeight: \"700\", marginBottom: \"24px\" , textAlign: \"center\"}}>\r\n        Professors\r\n      </h1>\r\n\r\n      {/* Subject Dropdown */}\r\n      <label\r\n        htmlFor=\"subject-select\"\r\n        className=\"block mb-2 font-semibold text-purple-200\"\r\n      >\r\n        Select Subject:\r\n      </label>\r\n      <select\r\n        id=\"subject-select\"\r\n        className=\"mb-4 p-2 border rounded w-full max-w-xs focus:outline-none focus:ring-2 focus:ring-white-300 text-orange-400\"\r\n        value={selectedSubject}\r\n        onChange={(e) => {\r\n          setSelectedSubject(e.target.value);\r\n          setSearchTerm(\"\");\r\n        }}\r\n      >\r\n        <option value=\"\">Choose a subject --</option>\r\n        {subjects.map((subject) => (\r\n          <option key={subject} value={subject}>\r\n            {subject}\r\n          </option>\r\n        ))}\r\n      </select>\r\n\r\n      {/* Search bar */}\r\n      {selectedSubject && (\r\n        <>\r\n          <label\r\n            htmlFor=\"prof-search\"\r\n            className=\"block mb-2 font-semibold text-purple-200\"\r\n          >\r\n            Search Professors:\r\n          </label>\r\n          <input\r\n            id=\"prof-search\"\r\n            type=\"text\"\r\n            className=\"mb-6 p-2 border rounded w-full max-w-xs focus:outline-none focus:ring-2 focus:ring-white-300 text-orange-400\"\r\n            placeholder=\"Type a professor's name\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      {/* Department average */}\r\n      {selectedSubject && (\r\n        <p className=\"mb-6 text-lg text-white-100\">\r\n          Department average GPA for <strong>{selectedSubject}</strong>:{\" \"}\r\n          {departmentAverage ? departmentAverage.toFixed(2) : \"N/A\"}\r\n        </p>\r\n      )}\r\n\r\n      {/* Professors list */}\r\n      {selectedSubject && (\r\n        <ul className=\"space-y-3\">\r\n          {filteredProfessors.length === 0 && (\r\n            <p className=\"text-purple-200\">No professors found matching your search.</p>\r\n          )}\r\n          {filteredProfessors.map((prof) => {\r\n            const diff = departmentAverage ? prof.avggrade - departmentAverage : 0;\r\n            const isAbove = diff > 0;\r\n            const isEqual = diff === 0;\r\n            const arrow = isEqual ? \"—\" : isAbove ? \"▲\" : \"▼\";\r\n            const arrowColor = isEqual\r\n              ? \"text-gray-400\"\r\n              : isAbove\r\n              ? \"text-green-400\"\r\n              : \"text-red-400\";\r\n\r\n            return (\r\n              <li\r\n                key={prof.prof}\r\n                className=\"border border-white-300 p-4 rounded hover:shadow-lg transition-shadow bg-white-700/30\"\r\n              >\r\n                <Link\r\n                  href={`/professors/${encodeURIComponent(prof.prof)}`}\r\n                  className=\"text-white-300 hover:underline font-semibold\"\r\n                >\r\n                  {prof.prof}\r\n                </Link>{\" \"}\r\n                - Avg Grade: {prof.avggrade.toFixed(2)}{\" \"}\r\n                {departmentAverage !== null && (\r\n                  <span className={`ml-2 font-semibold ${arrowColor}`}>\r\n                    {arrow} {Math.abs(diff).toFixed(2)} from dept avg\r\n                  </span>\r\n                )}\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}